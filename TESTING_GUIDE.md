# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Trivia Bot

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
2. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
3. [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö](#–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–¥–∞–Ω–Ω—ã—Ö)
4. [–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤](#–∑–∞–ø—É—Å–∫-—Å–µ—Ä–≤–∏—Å–æ–≤)
5. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)
6. [–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤](#–ø—Ä–æ–≤–µ—Ä–∫–∞-–ª–æ–≥–æ–≤)

---

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
nano .env  # –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
DATABASE_URL=postgresql://user:password@localhost:5432/trivia_bot
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PostgreSQL
psql -U postgres -c "SELECT version();"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis
redis-cli ping
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: PONG
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –í–æ–π—Ç–∏ –≤ PostgreSQL
sudo -u postgres psql

# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE DATABASE trivia_bot;
CREATE USER trivia_user WITH PASSWORD 'trivia_password';
GRANT ALL PRIVILEGES ON DATABASE trivia_bot TO trivia_user;
\q
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

```bash
python -c "from database.session import get_db_session; get_db_session().create_tables()"
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
python scripts/create_tables.py
```

---

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
python scripts/add_test_data.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç:
- 3 —Ç–µ–º—ã (–ö–∏–Ω–æ, –ù–∞—É–∫–∞, –°–ø–æ—Ä—Ç)
- 50+ —Ç–µ—Å—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- 10 —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–æ—Ç–æ–≤

### –†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ

```python
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Python
python

# –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏
from database.session import db_session
from database.models import Theme, Question, User
from database.queries import ThemeQueries

# –°–æ–∑–¥–∞—Ç—å —Ç–µ–º—É
with db_session() as session:
    theme = Theme(code='movies', name='–ö–∏–Ω–æ', description='–í–æ–ø—Ä–æ—Å—ã –æ –∫–∏–Ω–æ')
    session.add(theme)
    session.commit()

# –°–æ–∑–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
with db_session() as session:
    theme = ThemeQueries.get_theme_by_code(session, 'movies')
    question = Question(
        theme_id=theme.id,
        question_text='–ö–∞–∫–æ–π –∞–∫—Ç–µ—Ä —Å—ã–≥—Ä–∞–ª –¢–æ–Ω–∏ –°—Ç–∞—Ä–∫–∞ –≤ MCU?',
        option_a='–ö—Ä–∏—Å –≠–≤–∞–Ω—Å',
        option_b='–†–æ–±–µ—Ä—Ç –î–∞—É–Ω–∏-–º–ª–∞–¥—à–∏–π',
        option_c='–ö—Ä–∏—Å –•–µ–º—Å–≤–æ—Ä—Ç',
        option_d='–ú–∞—Ä–∫ –†—É—Ñ—Ñ–∞–ª–æ',
        correct_option='B',
        difficulty='medium',
        source_type='test',
        is_approved=True
    )
    session.add(question)
    session.commit()
```

---

## –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Telegram Bot:**
```bash
source venv/bin/activate
python main.py
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Celery Worker:**
```bash
source venv/bin/activate
celery -A tasks.celery_app worker --loglevel=info
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 3 - Celery Beat (–¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á):**
```bash
source venv/bin/activate
celery -A tasks.celery_app beat --loglevel=info
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

```bash
chmod +x start.sh
./start.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Systemd (–¥–ª—è production)

```bash
sudo systemctl start trivia-bot
sudo systemctl start trivia-bot-celery-worker
sudo systemctl start trivia-bot-celery-beat
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### 1. –ë–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

#### –¢–µ—Å—Ç 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –º–µ–Ω—é

#### –¢–µ—Å—Ç 2: –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
1. –ù–∞–∂–º–∏—Ç–µ "üèÉ –ë–´–°–¢–†–ê–Ø –ò–ì–†–ê"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –°–æ–æ–±—â–µ–Ω–∏–µ "–í—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –æ—á–µ—Ä–µ–¥—å..."

#### –¢–µ—Å—Ç 3: –†–µ–π—Ç–∏–Ω–≥
1. –ù–∞–∂–º–∏—Ç–µ "üìä –†–ï–ô–¢–ò–ù–ì"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –°–ø–∏—Å–æ–∫ —Ç–æ–ø-10 –∏–≥—Ä–æ–∫–æ–≤ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç)

#### –¢–µ—Å—Ç 4: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
1. –ù–∞–∂–º–∏—Ç–µ "üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Ä–µ–π—Ç–∏–Ω–≥, –∏–≥—Ä—ã, –ø–æ–±–µ–¥—ã)

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–π –∏–≥—Ä—ã

#### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±—ã—Å—Ç—Ä–æ–π –∏–≥—Ä—ã –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 3 –∏–≥—Ä–æ–∫–∞ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–æ–≤).

**–í–∞—Ä–∏–∞–Ω—Ç A: –° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏**
1. –°–æ–∑–¥–∞–π—Ç–µ 3+ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞ Telegram
2. –ö–∞–∂–¥—ã–π –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∞—Ç—å "üèÉ –ë–´–°–¢–†–ê–Ø –ò–ì–†–ê"
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 –º–∏–Ω—É—Ç (–∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä –≤—Ä—É—á–Ω—É—é)

**–í–∞—Ä–∏–∞–Ω—Ç B: –ó–∞–ø—É—Å–∫ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –≤—Ä—É—á–Ω—É—é**
```python
# –í Python –∫–æ–Ω—Å–æ–ª–∏
from tasks.pool_dispatcher import check_pool
check_pool()
```

#### –¢–µ—Å—Ç 5: –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
1. –ö–æ–≥–¥–∞ –Ω–∞–±–µ—Ä–µ—Ç—Å—è 3-9 –∏–≥—Ä–æ–∫–æ–≤, –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
2. –ù–∞–∂–º–∏—Ç–µ "‚ñ∂Ô∏è –ù–ê–ß–ê–¢–¨ –°–ï–ô–ß–ê–°" –∏–ª–∏ "‚è≥ –ñ–î–ê–¢–¨ –ï–©–Å 5 –ú–ò–ù–£–¢"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –°–æ–æ–±—â–µ–Ω–∏–µ "–ì–æ–ª–æ—Å —É—á—Ç—ë–Ω!"

#### –¢–µ—Å—Ç 6: –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã
1. –ü–æ—Å–ª–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è (–∏–ª–∏ –ø—Ä–∏ 10+ –∏–≥—Ä–æ–∫–∞—Ö) –∏–≥—Ä–∞ –¥–æ–ª–∂–Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 
   - –°–æ–æ–±—â–µ–Ω–∏–µ "üéÆ –ò–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è!"
   - –ü–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å –≤ –õ–°

#### –¢–µ—Å—Ç 7: –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å
1. –ü–æ–ª—É—á–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –≤ –õ–°
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –æ–¥–Ω—É –∏–∑ –∫–Ω–æ–ø–æ–∫ (A, B, C, D)
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!" –∏–ª–∏ "‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ"
   - –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏

#### –¢–µ—Å—Ç 8: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—É–Ω–¥–∞
1. –ü–æ—Å–ª–µ 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—É–Ω–¥–∞
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 
   - –¢–∞–±–ª–∏—Ü–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–±—ã–≤—à–µ–º –∏–≥—Ä–æ–∫–µ

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –±–æ—Ç–∞–º–∏

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∏–≥—Ä—ã —Å –±–æ—Ç–∞–º–∏

```python
# –í Python –∫–æ–Ω—Å–æ–ª–∏
from database.session import db_session
from database.models import Game, GamePlayer, User
from database.queries import UserQueries, GameQueries
from tasks.game_tasks import start_game_task

# –ü–æ–ª—É—á–∏—Ç—å –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
with db_session() as session:
    # –í–∞—à telegram_id
    your_telegram_id = 123456789  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à
    
    user = UserQueries.get_user_by_telegram_id(session, your_telegram_id)
    
    # –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É
    game = GameQueries.create_game(
        session,
        game_type='training',
        creator_id=user.id,
        total_rounds=10
    )
    
    # –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Å
    game_player = GamePlayer(
        game_id=game.id,
        user_id=user.id,
        is_bot=False,
        join_order=1
    )
    session.add(game_player)
    
    # –î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–æ–≤
    bots = UserQueries.get_bots(session, limit=9)
    for i, bot in enumerate(bots, 2):
        bot_player = GamePlayer(
            game_id=game.id,
            user_id=bot.id,
            is_bot=True,
            bot_difficulty=bot.bot_difficulty,
            join_order=i
        )
        session.add(bot_player)
    
    session.commit()
    
    # –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É
    start_game_task.delay(game.id)
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–æ—Ç–∞
```bash
tail -f logs/trivia_bot.log
```

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Celery
```bash
tail -f logs/celery_worker.log
tail -f logs/celery_beat.log
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫
```bash
grep -i error logs/*.log
grep -i exception logs/*.log
```

---

## –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/start`
- [ ] –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í—Å–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –†–µ–π—Ç–∏–Ω–≥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

### ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∏–≥—Ä–∞
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ 3-9 –∏–≥—Ä–æ–∫–∞—Ö
- [ ] –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ò–≥—Ä–∞ —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä–∏ 10+ –∏–≥—Ä–æ–∫–∞—Ö
- [ ] –ò–≥—Ä–∞ —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø–æ—Å–ª–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

### ‚úÖ –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å
- [ ] –í–æ–ø—Ä–æ—Å—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –õ–°
- [ ] Inline-–∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –û—Ç–≤–µ—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- [ ] –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### ‚úÖ –ë–æ—Ç—ã
- [ ] –ë–æ—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –ó–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—É–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- [ ] –í—ã–±—ã–≤—à–∏–π –∏–≥—Ä–æ–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –°–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ 10 —Ä–∞—É–Ω–¥–æ–≤

### ‚úÖ –î–æ—Å—Ä–æ—á–Ω–∞—è –ø–æ–±–µ–¥–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ä–æ—á–Ω–æ–π –ø–æ–±–µ–¥—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ—Å—Ä–æ—á–Ω–æ–π –ø–æ–±–µ–¥–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- [ ] –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –¥–æ—Å—Ä–æ—á–Ω–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏—è

---

## –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_BOT_TOKEN` –≤ `.env`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f logs/trivia_bot.log`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω: `ps aux | grep python`

### –ü—Ä–æ–±–ª–µ–º–∞: –í–æ–ø—Ä–æ—Å—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Celery worker –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Celery: `tail -f logs/celery_worker.log`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis: `redis-cli ping`

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–≥—Ä–∞ –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –ë–î
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ç–µ–º –≤ –ë–î
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `grep -i error logs/*.log`

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç—ã –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –±–æ—Ç–æ–≤ –≤ –ë–î
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∏–≥—Ä—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Celery worker

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î
```bash
psql -U trivia_user -d trivia_bot -c "SELECT COUNT(*) FROM questions;"
psql -U trivia_user -d trivia_bot -c "SELECT COUNT(*) FROM users WHERE is_bot = true;"
psql -U trivia_user -d trivia_bot -c "SELECT COUNT(*) FROM games WHERE status = 'in_progress';"
```

### –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
python scripts/clear_test_data.py
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
./stop.sh
./start.sh
```

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –ë–î
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π —Ä–µ–∂–∏–º
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∏–≥—Ä—ã
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
5. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∫ production
