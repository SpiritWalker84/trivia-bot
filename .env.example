# ============================================
# Trivia Bot - Brain Survivor Configuration
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env file to Git!

# ============================================
# Telegram Bot Configuration
# ============================================
# Get your bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Admin user IDs (comma-separated)
# These users will have access to admin commands
# Get your Telegram ID from @userinfobot
TELEGRAM_ADMIN_IDS=123456789,987654321

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/trivia_bot

# Database connection pool settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ============================================
# Redis Configuration
# ============================================
# Redis URL for caching and Celery message broker
# Format: redis://host:port/database_number
REDIS_URL=redis://localhost:6379/0

# Cache TTL (Time To Live) in seconds
REDIS_CACHE_TTL=300

# ============================================
# Celery Configuration
# ============================================
# Celery message broker (Redis)
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery result backend (Redis)
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ============================================
# Application Settings
# ============================================
# Maximum number of active games simultaneously
MAX_ACTIVE_GAMES=500

# Maximum number of questions in database (soft limit)
MAX_QUESTIONS_IN_DB=50000

# Pool check interval in seconds (5 minutes = 300)
POOL_CHECK_INTERVAL=300

# Vote duration in seconds (45 seconds)
VOTE_DURATION=45

# Question time limit in seconds
QUESTION_TIME_LIMIT=20

# Tie-break question time limit in seconds
TIE_BREAK_TIME_LIMIT=20

# ============================================
# Game Settings
# ============================================
# Number of rounds per game
ROUNDS_PER_GAME=10

# Number of questions per round
QUESTIONS_PER_ROUND=10

# Number of players per game
PLAYERS_PER_GAME=10

# Minimum players for instant game start (without voting)
MIN_PLAYERS_FOR_QUICK_START=10

# Minimum players to trigger voting (3-9 players)
MIN_PLAYERS_FOR_VOTE=3

# ============================================
# Bot AI Settings
# ============================================
# Bot response delay range (in seconds)
BOT_MIN_RESPONSE_DELAY=3
BOT_MAX_RESPONSE_DELAY=15

# Bot accuracy by difficulty level (0.0 to 1.0)
# Novice: 40% chance of correct answer
BOT_NOVICE_ACCURACY=0.4

# Amateur: 60% chance of correct answer
BOT_AMATEUR_ACCURACY=0.6

# Expert: 85% chance of correct answer
BOT_EXPERT_ACCURACY=0.85

# ============================================
# Rating System
# ============================================
# Rating points awarded/penalized by final place
# Winner (1st place)
RATING_WINNER_BONUS=20

# 2nd place
RATING_SECOND_BONUS=12

# 3rd place
RATING_THIRD_BONUS=8

# 4th-5th place
RATING_4_5_BONUS=4

# 6th-8th place (no change)
RATING_6_8_BONUS=0

# 9th-10th place (penalty)
RATING_9_10_PENALTY=-4

# ============================================
# Retry Settings
# ============================================
# Telegram API retry configuration
# Number of retry attempts
TELEGRAM_RETRY_ATTEMPTS=5

# Base delay for exponential backoff (in seconds)
TELEGRAM_RETRY_BACKOFF_BASE=1

# Database retry configuration
# Number of retry attempts
DATABASE_RETRY_ATTEMPTS=3

# Delay between retries (in seconds)
DATABASE_RETRY_DELAY=1

# ============================================
# Logging Configuration
# ============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/trivia_bot.log

# Log format string
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ============================================
# Environment
# ============================================
# Environment type: development, production, testing
ENVIRONMENT=development

# ============================================
# Cache TTLs (Time To Live in seconds)
# ============================================
# User profile cache TTL (10 minutes)
CACHE_USER_PROFILE_TTL=600

# Rating top-100 cache TTL (10 minutes)
CACHE_RATING_TOP100_TTL=600

# Themes list cache TTL (24 hours)
CACHE_THEMES_TTL=86400

# Bot settings cache TTL (24 hours)
CACHE_BOT_SETTINGS_TTL=86400
